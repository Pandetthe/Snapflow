@namespace Snapflow.Infrastructure.Mailing.Templates
@inherits Microsoft.AspNetCore.Components.ComponentBase

@code {
    [Parameter]
    public required PasswordResetModel Model { get; set; }

    [Parameter]
    public required bool IsHtml { get; set; }
}

@if (IsHtml)
{
    <table width="100%" cellpadding="0" cellspacing="0" role="presentation" bgcolor="#F7F8FB" style="background-color:#F7F8FB;">
        <tr>
            <td align="center">
                <table width="640" cellpadding="0" cellspacing="0" role="presentation" style="width:640px;">
                    <tr>
                        <td align="left" style="padding:24px; font-family: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Color Emoji'; color:#111827; font-size:15px; line-height:1.4;">
                            <div style="font-size:18px; line-height:1.4; padding-bottom:16px;">
                                Hi @Model.UserName,
                            </div>

                            <div style="padding-bottom:16px;">
                                We received a request to reset your password. Click the button below to visit the password reset page.
                            </div>

                            <div style="padding-bottom:24px; text-align:center;">
                                <table cellpadding="0" cellspacing="0" role="presentation" align="center" style="margin:0 auto;">
                                    <tr>
                                        <td align="center" bgcolor="#6B46C1" width="200" style="background-color:#6B46C1; border-radius:12px;">
                                            <a href="@Model.ResetFormLink" target="_blank" rel="noopener noreferrer"
                                               style="color:#ffffff; text-decoration:none; display:inline-block; padding:12px 22px; font-size:15px; line-height:1;">
                                                <strong>Reset password</strong>
                                            </a>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <div style="padding-bottom:16px;">
                                If you did not request a password reset, please ignore this message.
                            </div>

                            <div style="padding-bottom:16px;">
                                Best regards,<br />
                                The Snapflow Team
                            </div>
                            <table width="100%" cellpadding="0" cellspacing="0" role="presentation">
                                <tr>
                                    <td style="padding-top:24px; border-top:1px solid #E6E7F0;"></td>
                                </tr>
                            </table>

                            <div style="padding-top:12px; font-size:12px; color:#6B7280;">
                                Report issues at:
                                <a href="https://github.com/Pandetthe/Snapflow/issues" target="_blank" rel="noopener noreferrer" style="color:#6B46C1; text-decoration:underline;">
                                    GitHub Issues
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
}
else
{
    <text>
        Hi @Model.UserName!
        We received a request to reset your password. Click the link below to visit the password reset page.
        Reset code: @Model.ResetFormLink

        If you did not request a password reset, please ignore this message.

        Best regards,
        The Snapflow Team
        Report issues at: https://github.com/Pandetthe/Snapflow/issues
    </text>
}